<?xml version="1.1" encoding="UTF-8"?>
<!-- salt:09816cfc-2cfc-4d80-84c8-01e141e93e2a -->
<metadata name="vc_SAS70UpdateRatesUpdateInformation" path="/shared/Core/Finance/Fiscal_Transfer_Pricing_Datamart/vc_SAS70UpdateRatesUpdateInformation" type="TABLE" subtype="SQL_TABLE" changeToken="0" tableType="VIEW">
  <columns>
    <column name="Month" nullable="true">
      <datatype type="STRING" minLength="2" maxLength="2"/>
      <security>
        <owner user="x423xjm" domain="tntadtest"/>
      </security>
    </column>
    <column name="Year" nullable="true">
      <datatype type="STRING" minLength="4" maxLength="4"/>
      <security>
        <owner user="x423xjm" domain="tntadtest"/>
      </security>
    </column>
    <column name="MRQ_ID" nullable="true">
      <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      <security>
        <owner user="x423xjm" domain="tntadtest"/>
      </security>
    </column>
    <column name="Ref_File_Version" nullable="true">
      <datatype type="INTEGER" minValue="-32768" maxValue="32767"/>
      <security>
        <owner user="x423xjm" domain="tntadtest"/>
      </security>
    </column>
    <column name="Country_Code" nullable="true">
      <datatype type="STRING" minLength="3" maxLength="3"/>
      <security>
        <owner user="x423xjm" domain="tntadtest"/>
      </security>
    </column>
    <column name="Depot" nullable="true">
      <datatype type="STRING" minLength="5" maxLength="5"/>
      <security>
        <owner user="x423xjm" domain="tntadtest"/>
      </security>
    </column>
    <column name="Cost_Item" nullable="true">
      <datatype type="INTEGER" minValue="-32768" maxValue="32767"/>
      <security>
        <owner user="x423xjm" domain="tntadtest"/>
      </security>
    </column>
    <column name="Status" nullable="true">
      <datatype type="STRING" minLength="2" maxLength="7" trailingSpaces="false"/>
      <security>
        <owner user="x423xjm" domain="tntadtest"/>
      </security>
    </column>
    <column name="Change_By_User_Id" nullable="true">
      <datatype type="STRING" minLength="8" maxLength="8"/>
      <security>
        <owner user="x423xjm" domain="tntadtest"/>
      </security>
    </column>
    <column name="1st_Run_Date" nullable="true">
      <datatype type="DATE"/>
      <security>
        <owner user="x423xjm" domain="tntadtest"/>
      </security>
    </column>
    <column name="TNT_Months_Difference" nullable="true">
      <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      <security>
        <owner user="x423xjm" domain="tntadtest"/>
      </security>
    </column>
    <column name="FTP_Rate" nullable="true">
      <datatype type="DECIMAL" maxDigits="18" maxFractionalDigits="6"/>
      <security>
        <owner user="x423xjm" domain="tntadtest"/>
      </security>
    </column>
  </columns>
  <indexes></indexes>
  <foreignKeys></foreignKeys>
  <security>
    <owner user="x423xjm" domain="tntadtest"/>
    <privilege group="all" domain="composite" privileges="READ WRITE SELECT"/>
    <privilege user="q445qzb" domain="tntadtest" privileges="READ WRITE"/>
    <privilege user="x423xjm" domain="tntadtest" privileges="READ WRITE"/>
    <privilege group="SG-Spotfire-Users-WW" domain="tntadtest" privileges="READ WRITE SELECT UPDATE INSERT GRANT"/>
  </security>
  <dependency target="/shared/Source/EDW/CostModelling/PRODCOSTMDLG_P/CM_BASEUNIT_RATE_V01" type="TABLE">
    <datatype type="TABLE" refId="1">
      <element name="COU_ID" nullable="false">
        <datatype type="STRING" minLength="3" maxLength="3"/>
      </element>
      <element name="BUL_DEPOT_CD" nullable="false">
        <datatype type="STRING" minLength="5" maxLength="5"/>
      </element>
      <element name="CTM_SRKY_ID" nullable="false">
        <datatype type="INTEGER" minValue="-32768" maxValue="32767"/>
      </element>
      <element name="BUC_TAB_VER_FR_NR" nullable="false">
        <datatype type="INTEGER" minValue="-32768" maxValue="32767"/>
      </element>
      <element name="BUC_UPDT_TD" nullable="false">
        <datatype type="DATETIME"/>
      </element>
      <element name="BUC_UPDT_USER_ID" nullable="false">
        <datatype type="STRING" minLength="8" maxLength="8"/>
      </element>
      <element name="BUC_TAB_VER_TO_NR">
        <datatype type="INTEGER" minValue="-32768" maxValue="32767"/>
      </element>
      <element name="BUC_LATESTVERSN_IN" nullable="false">
        <datatype type="STRING" minLength="1" maxLength="1"/>
      </element>
      <element name="BUC_RATE_AM">
        <datatype type="DECIMAL" maxDigits="18" maxFractionalDigits="6"/>
      </element>
    </datatype>
  </dependency>
  <dependency target="/shared/Source/EDW/CostModelling/PRODCOSTMDLG_P/CM_COSTINGRUN_V01" type="TABLE">
    <datatype type="TABLE" refId="1">
      <element name="MRN_ID" nullable="false">
        <datatype type="INTEGER" minValue="-32768" maxValue="32767"/>
      </element>
      <element name="MRN_SEQ_NR" nullable="false">
        <datatype type="INTEGER" minValue="-32768" maxValue="32767"/>
      </element>
      <element name="MRN_UPDT_DT">
        <datatype type="DATE"/>
      </element>
      <element name="MRN_UPDT_USER_ID" nullable="false">
        <datatype type="STRING" minLength="8" maxLength="8"/>
      </element>
      <element name="MRN_LATESTRUN_IN" nullable="false">
        <datatype type="STRING" minLength="1" maxLength="1"/>
      </element>
      <element name="MRT_ID" nullable="false">
        <datatype type="STRING" minLength="1" maxLength="1"/>
      </element>
      <element name="MCF_ID">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
      <element name="MRN_STATUS_CD" nullable="false">
        <datatype type="STRING" minLength="1" maxLength="1"/>
      </element>
      <element name="MRN_START_WK_NR">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
      <element name="MRN_END_WK_NR">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
      <element name="MRN_ACTUALRUN_DT">
        <datatype type="DATE"/>
      </element>
      <element name="MRN_NM" nullable="false">
        <datatype type="STRING" minLength="40" maxLength="40"/>
      </element>
      <element name="MRN_DS">
        <datatype type="STRING" maxLength="255"/>
      </element>
      <element name="CPP_PERIOD_ID">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
      <element name="ENV_CD" nullable="false">
        <datatype type="STRING" minLength="1" maxLength="1"/>
      </element>
      <element name="MRN_OUTPUT_STAT_CD" nullable="false">
        <datatype type="STRING" minLength="1" maxLength="1"/>
      </element>
      <element name="CPP_OUTPUT_VER_NR">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
      <element name="MRN_ID_QCFF">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
    </datatype>
  </dependency>
  <dependency target="/shared/Source/EDW/CostModelling/PRODCOSTMDLG_P/CM_OLM_REQUESTS_V01" type="TABLE">
    <datatype type="TABLE" refId="1">
      <element name="MRQ_ID" nullable="false">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
      <element name="RET_ID">
        <datatype type="INTEGER" minValue="-32768" maxValue="32767"/>
      </element>
      <element name="MRQ_USER_ID" nullable="false">
        <datatype type="STRING" minLength="8" maxLength="8"/>
      </element>
      <element name="MRQ_DT">
        <datatype type="DATE"/>
      </element>
      <element name="MRQ_REASON_TX">
        <datatype type="STRING" maxLength="255"/>
      </element>
      <element name="MRQ_HIDDEN_IN" nullable="false">
        <datatype type="STRING" minLength="1" maxLength="1"/>
      </element>
      <element name="ENV_CD" nullable="false">
        <datatype type="STRING" minLength="1" maxLength="1"/>
      </element>
      <element name="MAG_ID_CURRENT">
        <datatype type="INTEGER" minValue="-32768" maxValue="32767"/>
      </element>
      <element name="MAG_ID_ACTING">
        <datatype type="INTEGER" minValue="-32768" maxValue="32767"/>
      </element>
      <element name="MRQ_EXPIRY_TS">
        <datatype type="DATETIME"/>
      </element>
      <element name="MRQ_STATUS_CD" nullable="false">
        <datatype type="STRING" minLength="1" maxLength="1"/>
      </element>
      <element name="MCF_ID">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
      <element name="MRN_ID">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
      <element name="MTV_TABLE_NM" nullable="false">
        <datatype type="STRING" minLength="8" maxLength="8"/>
      </element>
      <element name="TSV_NR">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
      <element name="MRQ_CAN_REAS_TX">
        <datatype type="STRING" maxLength="255"/>
      </element>
      <element name="MRQ_CAN_USER_ID" nullable="false">
        <datatype type="STRING" minLength="8" maxLength="8"/>
      </element>
      <element name="MRQ_CANCELLED_DT">
        <datatype type="DATE"/>
      </element>
      <element name="ADJ_ID">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
      <element name="MRQ_CRIT_EXPIRY_TS">
        <datatype type="DATETIME"/>
      </element>
      <element name="CPP_PERIOD_ID">
        <datatype type="INTEGER" minValue="-32768" maxValue="32767"/>
      </element>
      <element name="SAQ_ID">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
    </datatype>
  </dependency>
  <dependency target="/shared/Source/EDW/CostModelling/PRODCOSTMDLG_P/CM_SAS70_RPT9_V01" type="TABLE">
    <datatype type="TABLE" refId="1">
      <element name="MRN_ID" nullable="false">
        <datatype type="INTEGER" minValue="-32768" maxValue="32767"/>
      </element>
      <element name="BUC_TAB_VER_NR" nullable="false">
        <datatype type="INTEGER" minValue="-32768" maxValue="32767"/>
      </element>
      <element name="COU_ID" nullable="false">
        <datatype type="STRING" minLength="3" maxLength="3"/>
      </element>
      <element name="BUL_ID" nullable="false">
        <datatype type="STRING" minLength="5" maxLength="5"/>
      </element>
      <element name="CTM_SRKY_ID" nullable="false">
        <datatype type="INTEGER" minValue="-32768" maxValue="32767"/>
      </element>
      <element name="BUC_NEW_RATE_AM">
        <datatype type="DECIMAL" maxDigits="18" maxFractionalDigits="6"/>
      </element>
      <element name="MCF_ID_FIRST_USED">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
      <element name="BUC_FIRST_USED_DT">
        <datatype type="DATE"/>
      </element>
      <element name="BUC_STATUS_CD">
        <datatype type="STRING" minLength="2" maxLength="2"/>
      </element>
      <element name="BUC_OLD_TAB_VER_NR">
        <datatype type="INTEGER" minValue="-32768" maxValue="32767"/>
      </element>
      <element name="BUC_OLD_RATE_AM">
        <datatype type="DECIMAL" maxDigits="18" maxFractionalDigits="6"/>
      </element>
    </datatype>
  </dependency>
  <dependency target="/shared/Source/EDW/CostModelling/PRODCOSTMDLG_P/TNTCALDAYSDIFF_V01" type="TABLE">
    <datatype type="TABLE" refId="1">
      <element name="DTE_DT" nullable="false">
        <datatype type="DATE"/>
      </element>
      <element name="TNT_WK">
        <datatype type="STRING" minLength="2" maxLength="2"/>
      </element>
      <element name="TNT_MTH">
        <datatype type="STRING" minLength="2" maxLength="2"/>
      </element>
      <element name="TNT_QTR">
        <datatype type="STRING" minLength="1" maxLength="1"/>
      </element>
      <element name="TNT_YR">
        <datatype type="STRING" minLength="4" maxLength="4"/>
      </element>
      <element name="DAYS_DIFF">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
      <element name="WKS_DIFF">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
      <element name="MTHS_DIFF">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
      <element name="QTRS_DIFF">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
      <element name="YRS_DIFF">
        <datatype type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
      </element>
    </datatype>
  </dependency>
  <attribute name="SQL" type="STRING">/*select
vs_SAS70UpdateRatesUpdateInformation01.&quot;Month&quot;
,vs_SAS70UpdateRatesUpdateInformation01.&quot;Year&quot;
,vs_SAS70UpdateRatesUpdateInformation01.&quot;Ref File Version&quot; as &quot;Ref_File_Version&quot;
,vs_SAS70UpdateRatesUpdateInformation01.&quot;Country Code&quot; as &quot;Country_Code&quot; 
,vs_SAS70UpdateRatesUpdateInformation01.&quot;Depot&quot;
,vs_SAS70UpdateRatesUpdateInformation01.&quot;Cost Item&quot; as &quot;Cost_Item&quot;
,vs_SAS70UpdateRatesUpdateInformation01.&quot;FTP Rate&quot; as &quot;FTP_Rate&quot;
,vs_SAS70UpdateRatesUpdateInformation01.&quot;Status&quot;
,vs_SAS70UpdateRatesUpdateInformation01.&quot;Change By User Id&quot;  as &quot;Change_By_User_Id&quot;
,vs_SAS70UpdateRatesUpdateInformation01.&quot;1st Run Date&quot;as  &quot;1st_Run_Date&quot;
,vs_SAS70UpdateRatesUpdateInformation01.&quot;TNT Months Difference&quot; as &quot;TNT_Months_Difference&quot;
--,vs_SAS70UpdateRatesUpdateInformation01.&quot;Request ID&quot; as &quot;Request_ID&quot;
--,vs_SAS70UpdateRatesUpdateInformation01.&quot;Decision ID&quot; as &quot;Decision_ID&quot;
--,vs_SAS70UpdateRatesUpdateInformation01.&quot;Reviewer 2 Ranking&quot; as &quot;Reviewer_2_Ranking&quot;
--,vs_SAS70UpdateRatesUpdateInformation01.&quot;MRD_ID_2&quot;,
--vs_SAS70UpdateRatesUpdateInformation01.&quot;Reviewer 1 Ranking&quot; as&quot;Reviewer_1_Ranking&quot;,   
,case when MAX(reviewer1_1stcase) over (partition by MRQ_ID)&lt;&gt; MAX(reviewr1maxcase)over (partition by MRQ_ID) then MAX(reviewer1_1stcase) over (partition by MRQ_ID)
else null
end  as  &quot;Reviewer_1&quot;,  
max(vs_SAS70UpdateRatesUpdateInformation01.reviewr1maxcase)over (partition by MRQ_ID) as &quot;Reviewer_2&quot;
from /shared/Core/Finance/FTP/vs_SAS70UpdateRatesUpdateInformation02  vs_SAS70UpdateRatesUpdateInformation01 
--group by 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,MRQ_ID,reviewer1_1stcase,reviewr1maxcase--,MRD_ID*/
select T1.TNT_MTH &quot;Month&quot; 
, T1.TNT_YR &quot;Year&quot;
,T7.MRQ_ID 
, REP9_CM_SAS70_RPT9_V01.BUC_TAB_VER_NR Ref_File_Version 
, REP9_CM_SAS70_RPT9_V01.COU_ID Country_Code 
, REP9_CM_SAS70_RPT9_V01.BUL_ID Depot 
, REP9_CM_SAS70_RPT9_V01.CTM_SRKY_ID Cost_Item 
, (case  when REP9_CM_SAS70_RPT9_V01.BUC_STATUS_CD = &apos;UP&apos; then &apos;Updated&apos; when REP9_CM_SAS70_RPT9_V01.BUC_STATUS_CD = &apos;DL&apos; then &apos;Removed&apos; when REP9_CM_SAS70_RPT9_V01.BUC_STATUS_CD = &apos;NE&apos; then &apos;New&apos; else REP9_CM_SAS70_RPT9_V01.BUC_STATUS_CD end ) Status 
, T3.BUC_UPDT_USER_ID Change_By_User_Id 
/*
, T4.MRQ_ID C8 
, (case  when rank() over (partition by T4.MRQ_ID
 order by T4.MRD_ID desc) = 1 then 0 else T4.MRD_ID end ) C9 
, T5.USR_USER_ID C10 
, (case  when rank() over (partition by T4.MRQ_ID
 order by T4.MRD_ID desc) = 1 then T5.USR_USER_ID else &apos;&apos; end ) C11 */
, REP9_CM_SAS70_RPT9_V01.BUC_FIRST_USED_DT &quot;1st_Run_Date&quot; 
, T1.MTHS_DIFF TNT_Months_Difference 
, REP9_CM_SAS70_RPT9_V01.BUC_NEW_RATE_AM &quot;FTP_Rate&quot; 
 from /shared/Source/EDW/CostModelling/PRODCOSTMDLG_P/CM_SAS70_RPT9_V01 REP9_CM_SAS70_RPT9_V01 
INNER JOIN /shared/Source/EDW/CostModelling/PRODCOSTMDLG_P/CM_COSTINGRUN_V01 T6 on REP9_CM_SAS70_RPT9_V01.MRN_ID = T6.MRN_ID INNER JOIN (
select distinct cast(TNTCALDAYSDIFF_V01.TNT_YR || TNTCALDAYSDIFF_V01.TNT_WK as integer) TNT_YRWK_NR 
, TNTCALDAYSDIFF_V01.TNT_MTH TNT_MTH 
, TNTCALDAYSDIFF_V01.TNT_YR TNT_YR 
, TNTCALDAYSDIFF_V01.MTHS_DIFF MTHS_DIFF 
 from /shared/Source/EDW/CostModelling/PRODCOSTMDLG_P/TNTCALDAYSDIFF_V01 TNTCALDAYSDIFF_V01) T1 on T6.MRN_START_WK_NR = T1.TNT_YRWK_NR INNER JOIN (
select T1.BUC_TAB_VER_FR_NR BUC_TAB_VER_FR_NR 
, min(T1.BUC_UPDT_USER_ID) BUC_UPDT_USER_ID 
 from  /shared/Source/EDW/CostModelling/PRODCOSTMDLG_P/CM_BASEUNIT_RATE_V01 T1
 group by T1.BUC_TAB_VER_FR_NR) T3 on T3.BUC_TAB_VER_FR_NR = REP9_CM_SAS70_RPT9_V01.BUC_TAB_VER_NR 
 INNER JOIN /shared/Source/EDW/CostModelling/PRODCOSTMDLG_P/CM_OLM_REQUESTS_V01 T7 on T7.MCF_ID = REP9_CM_SAS70_RPT9_V01.MCF_ID_FIRST_USED and T7.RET_ID in (3
, 4) and T7.MRQ_STATUS_CD = 2</attribute>
  <attribute name="creationDate" type="LONG">1565616962861</attribute>
  <attribute name="creatorUserDomain" type="STRING">tntadtest</attribute>
  <attribute name="creatorUserId" type="INTEGER">90101</attribute>
  <attribute name="creatorUserName" type="STRING">x423xjm</attribute>
  <attribute name="explicitly.designed" type="BOOLEAN">false</attribute>
  <attribute name="lastModifiedDate" type="LONG">1565616968255</attribute>
  <attribute name="lastModifiedUserDomain" type="STRING">tntadtest</attribute>
  <attribute name="lastModifiedUserId" type="INTEGER">90101</attribute>
  <attribute name="lastModifiedUserName" type="STRING">x423xjm</attribute>
  <attribute name="model" type="NULL"/>
  <attribute name="resourceModifiedDateOnSourceCISSite" type="LONG">1565616962861</attribute>
</metadata>